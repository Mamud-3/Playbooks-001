- hosts: localhost
  connection: local

  vars:
    gimp_url: https://raw.githubusercontent.com/doctormo/GimpPs/master/tools/install.sh
    gimp_tmp: /tmp/gimp

  tasks:

    - name: install gimp (apt)
      become: yes
      apt:
        name: gimp
        state: present

    - name: Creates gimp theme temporary directory
      file:
        path: "{{ gimp_tmp }}"
        state: directory

    - name: Download install script gimp theme
      get_url:
        url: "{{ gimp_url }}"
        dest: "{{ gimp_tmp }}/install.sh"
        force: yes
        mode: "775"

    - name: Laucnh install script gimp Theme
      shell: "{{ gimp_tmp }}/install.sh"

    - name: Remove gimp temporary directory
      file:
        path: "{{ gimp_tmp }}"
        state: absent